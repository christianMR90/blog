---
title: "The Battle of Normandy: Summer of 1944"
author: "Corey Pembleton"
output: html_document
date: "2019-04-08"
slug: summer-of-1944-not-quiet-on-the-western-front
categories: ["R", "dataexploration", "history"]
tags: ["visualisation", "tidyverse"]
thumbnailImagePosition: "left"
thumbnailImage: "/img/WWII.jpg"
coverImage: "/img/WWII.jpg"
draft: true
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(summarytools)

st_options(bootstrap.css     = FALSE,       # Already part of the theme so no need for it
           plain.ascii       = FALSE,       # One of the essential settings
           style             = "rmarkdown", # Idem.
           dfSummary.silent  = TRUE,        # Suppresses messages about temporary files
           footnote          = NA,          # Keeping the results minimalistic
           subtitle.emphasis = FALSE)       # For the vignette theme, this gives
                                            # much better results. Your mileage may vary.

```
A good friend of mine has been working on a very interesting project: mapping Canadian Army's Battle of Normandy in which they've mapped out "20,000 mapped unit positions from Canadian, British, American, Free French, Polish and German armies"; which is going to be the largest georeferenced database of military positions in the world. 

They even made a cool video describing the project:  

<iframe width="850" height="537" src="https://www.youtube.com/embed/hgi7cjnoHuc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

While they're doing some interesting work on the mapping end (which I'd also like to have a look into), I asked if they had any aspatial data I might want to look into, and he shared a file with me containing the casualties of the Battle of Normandy, the Canadian battle following the storming of Juno Beach:

```{r, cache=TRUE}
cas <- readxl::read_xlsx(here::here("./content/post/Project44_Casualty-List_v3.xlsx"))

glimpse(cas)

```

The dataset records 4,608 deaths occurring between the 6th of June and the 31st of August, 1944; on the subject, Chruchill infamously notes that raiding the beaches of Normandy was just the beginning. I'd like to explore what that beginning looked like in this post.

> "It is not the end, it is not even the beginning of the end, but it is perhaps the end of the beginning" - Winston Churchill 

## Cleaning and Summary Stats

```{r, eval = TRUE, results='hide'}

cas <- cas %>% 
  select(age_text, date_of_death, rank, Division, regiment, cemeterymemorial) %>% 
  mutate(date_of_death = lubridate::dmy(date_of_death ),
         age = as.numeric(age_text))

```


I'm not sure what to look at with this data, but I think to gain a better understanding of what this data can show, several variables are interesting to note: the bloodiest days, the units those men were from, their age, and which cemetary they were buried in.

#### Bloodiest days:
```{r}
head(summarytools::freq(cas$date_of_death, order = "freq", style = "rmarkdown"), 5)
```

#### Age
```{r}
ctable(cas$age, cas$Division, prop = "n", style = "rmarkdown", method = "render", 15, useNA = "no", totals = TRUE)

cas %>% 
  filter(!is.na(age_text)) %>% 
  ggplot(aes(x = age_text)) +
  geom_bar() +
  ylab("") + 
  xlab("Age") +
  theme_minimal()

```

Exploring the data also shows that there are 1,233 ```NA``` values for age, or about a quarter of the dataset.

#### Cemetery

```{r}
cas %>% 
  group_by(cemeterymemorial) %>% 
  count %>% arrange(desc(n)) %>%
  filter(n > 10) %>% 
  kableExtra::kable() %>% 
  kableExtra::kable_styling(full_width = FALSE, bootstrap_options = "hover")
```

### Visualizing the data




![Looking at this image from the Canadian archives, we see how young the men on the Normandy beaches were](/img/WWII-1.jpeg)
